<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>Welcome to the Index Page</h1>
    <p>
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Amet laudantium similique facere itaque! Facilis ipsum, iste autem est nobis ab.
    </p>
    <form>
        <h2>Add Product</h2>
        <p>
            Product Name : <input id="name" name="name" type="text" required minlength="1">
        </p>
        <p>
            Product Description : <input id="desc" name="desc" type="text" required minlength="1">
        </p>
        <p>
            Product Price : <input id="price" name="price" type="number" required min="50">
        </p>
        <button>Add Product</button>
    </form>

    <script>
        const form = document.querySelector("form")
        const submitForm = (e) => {
            e.preventDefault()
            alert("Submitted")
            let name = document.querySelector("#name").value
            let desc = document.querySelector("#desc").value
            let price = document.querySelector("#price").value
            // Create A fetch data
            const formData = new FormData()
            formData.append("name", name)
            formData.append("price", price)
            formData.append("desc", desc)
            console.log(formData)
           

            fetch ("/products/add", {"method" : "POST", 
                "credentials" : "cors",
                "headers" : {"Content-Type" : "application/json"},
                "body" : JSON.stringify(Object.fromEntries(formData)),

            }).then(
                data => data.json()
            ).then(data => console.log(data))
        }
        form.addEventListener("submit", submitForm)
    </script>
</body>
</html>